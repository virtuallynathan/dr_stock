{% extends "base.html" %}
{% load staticfiles %}
{% block pagename %}Portfolio{% endblock %}
{% block pageheaders %}
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.2/angular.min.js"></script>
<script src="/static/js/HomeController.js"></script>
<style type="text/css">

.quick-button {
    z-index: 0;
}
.quick-button:hover {
    z-index: 100;
}

.verticalChart .singleBar .bar .red {
    background-color: #ff5454;
}

.verticalChart .singleBar .bar .blue {
    background-color: #36a9e1;
}

.verticalChart .singleBar {
    width: 29%;
}

.value {
  font-size 96px;
  color: #FFFFFF;
}
</style>
{% endblock %}

{% block content %}

<div ng-app="homeApp" ng-controller="favouritesCtrl">
<div style="margin: auto; max-width: 1024px; height: 100%;" ng-controller="homeCtrl" >
    <div class="col-lg-12">
      <form role="form">
        <input type="text" class="form-control" placeholder="Search" ng-model="query">
      </form>
    </div>
    {% if user.is_authenticated %}
    {% verbatim %}
    <div class="col-md-3" ng-repeat="stock in favourites | filter:query | orderBy:predicate:reverse"  style="text-align: center;">
      <div class="circleStatsItemBox">
        <div class="header">PRICE HERE</div>
        <span class="percent">percent</span>
        <div class="circleStat">
          <div class="value">CHANGE</div>
        </div>    
        <div class="footer">
        <span class="count">
          <span class="number">{{stock.exchange}}</span>
        </span>
        <span class="sep"> / </span>
          <span class="value">
            <span class="number">{{stock.ticker}}</span>
          </span> 
        </div>
      </div>
    </div>
    <div style="clear:both;"></div>
    <div class="col-lg-12" ng-controller="favouritesCtrl">
        <div class="box">
            <div class="box-header">
                <h2><i class="fa fa-star"></i>Portfolio</h2>
            </div>
            <div class="box-content">
                <div>
                      <form role="form">
                          <input type="text" class="form-control" placeholder="Search" ng-model="query">
                      </form>
                  </div>
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th><a href="" ng-click="reverse = predicate == 'name' && !reverse; predicate = 'ticker'">Ticker</a></th>
                        <th><a href="" ng-click="reverse = predicate == 'name' && !reverse; predicate = 'name'">Name</a></th>
                         <th><a href="" ng-click="reverse = predicate == 'name' && !reverse; predicate = 'name'">Exchange</a></th>
                      </tr>
                    </thead>
                    <tr ng-repeat="stock in favourites | filter:query | orderBy:predicate:reverse" id="tbl-row-{{stock.ticker}}" onclick="toggleStockPage(this);" style="cursor: pointer;">
                      <td><a href="/stock/#/{{stock.exchange}}/{{stock.ticker}}/" class="label label-info">{{stock.ticker}}</a></td>
                      <td>{{stock.name}}</td>
                      <td>{{stock.exchange}}</td>
                      </a>
                    </tr>
                  </table>
                </div>
            </div>
        </div>
    </div>
    {% endverbatim %}
    {% endif %}
</div>
</div>

{% endblock %}
